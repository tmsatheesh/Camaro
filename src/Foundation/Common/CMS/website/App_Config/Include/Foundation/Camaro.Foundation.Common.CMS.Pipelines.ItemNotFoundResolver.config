<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">
  <sitecore>
    <pipelines>
      <httpRequestBegin>
        <processor
        patch:before="processor[@type='Sitecore.Pipelines.HttpRequest.LayoutResolver, Sitecore.Kernel']"
        type="Camaro.Foundation.Common.CMS.Pipelines.ItemNotFoundResolver,Camaro.Foundation.Common.CMS" />
      </httpRequestBegin>
      <httpRequestProcessed>
        <processor type="Camaro.Foundation.Common.CMS.Pipelines.SetNotFoundStatusCode,Camaro.Foundation.Common.CMS" />
      </httpRequestProcessed>
      <mvc.getPageItem>
        <processor type="Camaro.Foundation.Common.CMS.Pipelines.CheckItemResolved,Camaro.Foundation.Common.CMS"
        patch:before="*[@type='Sitecore.Mvc.Pipelines.Response.GetPageItem.GetFromRouteUrl, Sitecore.Mvc']" />
      </mvc.getPageItem>
    </pipelines>
  </sitecore>
</configuration>